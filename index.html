<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Quiz for Sneha</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&family=Fredoka+One&display=swap');
        :root { --primary: #e67e22; --secondary: #f39c12; --dark: #333; --light: #fff; --shadow: 0 4px 15px rgba(0,0,0,0.2); }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; justify-content: center; align-items: center; -webkit-tap-highlight-color: transparent; user-select: none; }
        .quiz-container { background: var(--light); width: 90%; max-width: 500px; border-radius: 20px; padding: 30px; box-shadow: var(--shadow); text-align: center; overflow: hidden; }
        #start-screen h1, #result-screen h1 { font-family: 'Fredoka One', cursive; color: var(--dark); font-size: 2.5rem; margin-bottom: 10px; }
        #start-screen p, #result-screen p { color: #666; margin-bottom: 30px; line-height: 1.6; }
        .btn { background-image: linear-gradient(to right, #e67e22 0%, #f39c12 51%, #e67e22 100%); margin: 10px; padding: 15px 30px; text-align: center; text-transform: uppercase; transition: 0.5s; background-size: 200% auto; color: white; box-shadow: 0 0 20px #eee; border-radius: 10px; display: inline-block; border: none; cursor: pointer; font-size: 1rem; font-weight: bold; }
        .btn:hover { background-position: right center; color: #fff; text-decoration: none; }
        #quiz-screen, #result-screen { display: none; }
        #progress-bar { width: 100%; background-color: #eee; border-radius: 10px; margin-bottom: 20px; }
        #progress-bar-fill { height: 10px; background-color: var(--primary); width: 0%; border-radius: 10px; transition: width 0.3s ease-in-out; }
        #question { font-size: 1.5rem; font-weight: bold; color: var(--dark); margin-bottom: 20px; }
        .answer-btn { display: block; width: 100%; background: #f7f7f7; border: 2px solid #ddd; color: var(--dark); padding: 15px; margin: 10px 0; border-radius: 10px; cursor: pointer; font-size: 1rem; transition: all 0.2s ease; }
        .answer-btn:hover { background: #e9e9e9; border-color: var(--primary); }
        #result-emoji { font-size: 5rem; animation: bounce 1s ease; }
        @keyframes bounce { 0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 40% {transform: translateY(-30px);} 60% {transform: translateY(-15px);} }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div id="start-screen">
            <h1>The Vibe Quiz!</h1>
            <p>Hey Sneha! I made this little quiz just for you. Answer a few questions to find out your true inner vibe!</p>
            <button id="start-btn" class="btn">Let's Find Out!</button>
        </div>
        <div id="quiz-screen">
            <div id="progress-bar"><div id="progress-bar-fill"></div></div>
            <div id="question"></div>
            <div id="answers-container"></div>
        </div>
        <div id="result-screen">
            <div id="result-emoji"></div>
            <h1></h1>
            <p></p>
            <button id="restart-btn" class="btn">Try Again?</button>
        </div>
    </div>
    <script>
        const quizData = [
            { question: "Jaipur re traffic mein fans gaya, ab kai karola?", answers: [ { text: "Horn bajaa-bajaa ne market mathai le liyo!", pointsTo: "mirchi-bada" }, { text: "Gaadi side mein laga ne, chai ri thadi par baith gayo.", pointsTo: "dal-baati" }, { text: "Google Maps par nayo rasto ghal diyo, koi jugad mil'j jasi.", pointsTo: "kachori" }, { text: "Radio par purana gaana sun ne, yaada'n mein kho gayo.", pointsTo: "ghevar" } ] },
            { question: "Thare saamne ek nach'to uunth aayo, kai hai tharo reaction?", answers: [ { text: "Bina soche saage naachno chalu!", pointsTo: "mirchi-bada" }, { text: "Side mein su chup-chaap nikal jaasyu.", pointsTo: "dal-baati" }, { text: "Video bana ne Instagram par story ghal diyo.", pointsTo: "kachori" }, { text: "Sochu'n la, 'Inre mann mein kai chal riyo hai?'", pointsTo: "ghevar" } ] },
            { question: "Kila mein koi kahyo 'Atthe bhoot hai!', tharo kai jawab hove?", answers: [ { text: "'Chalo, bhoot su'j mil ne aava! Selfie leni hai.'", pointsTo: "mirchi-bada" }, { text: "'Ram Ram! Maaf karjo, aapno rasto alag hai.'", pointsTo: "dal-baati" }, { text: "'Hove toh hove, aapne kai leno-deno?'", pointsTo: "kachori" }, { text: "'Kyu hai? Kai kahani hai inre paache?'", pointsTo: "ghevar" } ] },
            { question: "Dal Baati Churma mein su, thari favourite cheez kai hai?", answers: [ { text: "Masaledar Dal, jitro teekho utro bhalo!", pointsTo: "mirchi-bada" }, { text: "Ghee mein dubodi Baati. Simple and best.", pointsTo: "dal-baati" }, { text: "Puri plate! Saage hove toh'j majo hai.", pointsTo: "kachori" }, { text: "Meetho Churma, sab su alag aur khaas.", pointsTo: "ghevar" } ] }
        ];

        // --- NEW RAJASTHANI RESULTS ---
        const resultsData = {
            "mirchi-bada": { emoji: "🌶️", title: "You're a Mirchi Bada!", description: "You are spicy, bold, and always full of life! You're not afraid to be the center of attention and you bring a kick of excitement wherever you go." },
            "dal-baati": { emoji: "❤️", title: "You're Dal Baati Churma!", description: "You are the ultimate comfort classic. You're reliable, warm-hearted, and everyone feels at home with you. A true Rajasthani original!" },
            "kachori": { emoji: "👌", title: "You're a Pyaaz ki Kachori!", description: "A crispy, beloved classic that fits in anywhere. You're the go-to friend for any occasion, universally loved, and always a great choice." },
            "ghevar": { emoji: "✨", title: "You're Ghevar!", description: "You are sweet, intricate, and a little bit royal. You have a complex personality with many layers, making you a truly special and unforgettable treat." }
        };
        // --- END OF NEW RESULTS ---

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionEl = document.getElementById('question');
        const answersContainer = document.getElementById('answers-container');
        const progressBarFill = document.getElementById('progress-bar-fill');
        let currentQuestionIndex;
        let scores;
        let userAnswers;

        function startQuiz() {
            startScreen.style.display = 'none';
            resultScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            currentQuestionIndex = 0;
            scores = { "mirchi-bada": 0, "dal-baati": 0, "kachori": 0, "ghevar": 0 };
            userAnswers = [];
            showQuestion();
        }
        function showQuestion() {
            const currentQuestion = quizData[currentQuestionIndex];
            questionEl.innerText = currentQuestion.question;
            answersContainer.innerHTML = '';
            currentQuestion.answers.forEach(answer => {
                const button = document.createElement('button');
                button.innerText = answer.text;
                button.classList.add('answer-btn');
                button.onclick = () => selectAnswer(answer.pointsTo, answer.text);
                answersContainer.appendChild(button);
            });
            const progress = ((currentQuestionIndex) / quizData.length) * 100;
            progressBarFill.style.width = `${progress}%`;
        }
        function selectAnswer(pointsTo, answerText) {
            scores[pointsTo]++;
            userAnswers.push(answerText);
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.length) {
                showQuestion();
            } else {
                progressBarFill.style.width = `100%`;
                setTimeout(showResults, 500);
            }
        }
        function saveResultToSheet(resultKey) {
            const scriptURL = 'https://script.google.com/macros/s/AKfycbwrCgooYp_yJ6OdQEKKxR4iSbPTTEtEzBjFrMaKHYBY2sydRIPPTlNOZIzsf9LD-RrR/exec';
            const data = {
                name: 'Sneha',
                result: resultsData[resultKey].title,
                answer1: userAnswers[0] || '',
                answer2: userAnswers[1] || '',
                answer3: userAnswers[2] || '',
                answer4: userAnswers[3] || ''
            };
            fetch(scriptURL, { method: 'POST', mode: 'no-cors', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data) })
            .then(response => console.log('Success!'))
            .catch(error => console.error('Error!', error.message));
        }
        function showResults() {
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            let maxScore = -1;
            let resultKey = '';
            for (const key in scores) {
                if (scores[key] > maxScore) { maxScore = scores[key]; resultKey = key; }
            }
            const result = resultsData[resultKey];
            resultScreen.querySelector('#result-emoji').innerText = result.emoji;
            resultScreen.querySelector('h1').innerText = `Sneha, ${result.title}`;
            resultScreen.querySelector('p').innerText = result.description;
            saveResultToSheet(resultKey);
        }
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', startQuiz);
    </script>
</body>
</html>
